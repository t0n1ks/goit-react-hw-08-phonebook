"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[284],{6284:function(e,r,t){t.r(r),t.d(r,{default:function(){return f}});var n=t(4165),a=t(5861),s=t(4942),o=t(1413),u=t(9439),i=t(2791),c=t(7689),p=t(9434),l=t(8174),m=t(1243),d={container:"RegistrationPage_container__ycFvY"},h=t(184);var f=function(){var e=(0,c.s0)(),r=(0,p.v9)((function(e){return e.auth.isAuthenticated})),t=(0,p.v9)((function(e){return e.auth.error})),f=(0,i.useState)({name:"",email:"",password:""}),v=(0,u.Z)(f,2),w=v[0],g=v[1],x=function(e){var r=e.target,t=r.name,n=r.value;g((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,s.Z)({},t,n))}))};(0,i.useEffect)((function(){r&&!t&&e("/user-menu")}),[r,t,e]);var k=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t){var a;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),r.prev=2,a=JSON.stringify({name:w.name,email:w.email,password:w.password}),r.next=6,m.Z.post("https://connections-api.herokuapp.com/users/signup",a,{headers:{"Content-Type":"application/json"}});case 6:e("/login"),setTimeout((function(){l.Am.success("User successfully registered")}),500),r.next=18;break;case 10:if(r.prev=10,r.t0=r.catch(2),400!==r.t0.response.status||"MongoError"!==r.t0.response.data.name){r.next=17;break}return l.Am.error("User already exist"),r.abrupt("return");case 17:l.Am.error("Registration failed:",r.t0);case 18:case"end":return r.stop()}}),r,null,[[2,10]])})));return function(e){return r.apply(this,arguments)}}();return(0,h.jsxs)("div",{className:d.container,children:[(0,h.jsx)("h2",{className:d.heading,children:"Registration"}),(0,h.jsxs)("form",{onSubmit:k,children:[(0,h.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:w.name,onChange:x,required:!0,autoComplete:"current-password"}),(0,h.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:w.email,onChange:x,required:!0,autoComplete:"current-password"}),(0,h.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:w.password,onChange:x,required:!0,autoComplete:"current-password"}),(0,h.jsx)("button",{type:"submit",children:"Register"})]})]})}}}]);
//# sourceMappingURL=284.70655c45.chunk.js.map