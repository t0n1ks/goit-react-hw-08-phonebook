"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[94],{94:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var n=a(165),r=a(861),s=a(942),o=a(413),u=a(439),i=a(791),c=a(689),p=a(434),l=a(541),m=a(243),d={container:"RegistrationPage_container__ycFvY"},h=a(184);var f=function(){var e=(0,p.I0)(),t=(0,c.s0)(),a=(0,p.v9)((function(e){return e.auth.isAuthenticated})),f=(0,p.v9)((function(e){return e.auth.error})),v=(0,i.useState)({name:"",email:"",password:""}),w=(0,u.Z)(v,2),g=w[0],x=w[1],k=function(e){var t=e.target,a=t.name,n=t.value;x((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,s.Z)({},a,n))}))};(0,i.useEffect)((function(){a&&!f&&t("/user-menu")}),[a,f,t]);var y=function(){var t=(0,r.Z)((0,n.Z)().mark((function t(a){var r,s,o;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=2,r=JSON.stringify({name:g.name,email:g.email,password:g.password}),t.next=6,m.Z.post("https://connections-api.herokuapp.com/users/signup",r,{headers:{"Content-Type":"application/json"}});case 6:s=t.sent,o=s.data.token,e((0,l.x4)({token:o})),x({name:"",email:"",password:""}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),400===t.t0.response.status&&"MongoError"===t.t0.response.data.name?alert("User already exist"):alert("Registration failed:",t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}();return(0,h.jsxs)("div",{className:d.container,children:[" ",(0,h.jsx)("h2",{className:d.heading,children:"Registration"})," ",(0,h.jsxs)("form",{onSubmit:y,children:[(0,h.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:g.name,onChange:k,required:!0,autoComplete:"current-password"}),(0,h.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:g.email,onChange:k,required:!0,autoComplete:"current-password"}),(0,h.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:g.password,onChange:k,required:!0,autoComplete:"current-password"}),(0,h.jsx)("button",{type:"submit",children:"Register"})]})]})}}}]);
//# sourceMappingURL=94.13b4a3aa.chunk.js.map