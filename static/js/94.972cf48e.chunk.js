"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[94],{3094:function(e,r,t){t.r(r),t.d(r,{default:function(){return v}});var n=t(4165),a=t(5861),s=t(4942),u=t(1413),o=t(9439),i=t(2791),c=t(7689),l=t(9434),p=t(8174),m=t(2366),d=(t(5462),{container:"RegistrationPage_container__ycFvY"}),f=t(3541),h=t(3329);var v=function(){var e,r=(0,l.I0)(),t=(0,c.s0)(),v=(0,l.v9)((function(e){return e.auth.isAuthenticated})),w=(0,l.v9)((function(e){return e.auth.error})),x=(0,i.useState)({name:"",email:"",password:""}),g=(0,o.Z)(x,2),k=g[0],b=g[1],y=function(e){var r=e.target,t=r.name,n=r.value;b((function(e){return(0,u.Z)((0,u.Z)({},e),{},(0,s.Z)({},t,n))}))};return(0,i.useEffect)((function(){v&&!w&&t("/user-menu")}),[v,w,t]),(0,h.jsxs)("div",{className:d.container,children:[(0,h.jsx)("h2",{className:d.heading,children:"Registration"}),(0,h.jsxs)("form",{onSubmit:function(s){return(e=e||(0,a.Z)((0,n.Z)().mark((function e(a){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=2,e.next=5,(0,m.wl)({name:k.name,email:k.email,password:k.password});case 5:s=e.sent,r((0,f.z2)({token:s.token,user:s.user})),t("/user-menu"),setTimeout((function(){p.Am.success("User successfully registered")}),500),e.next=19;break;case 11:if(e.prev=11,e.t0=e.catch(2),400!==e.t0.response.status||"MongoError"!==e.t0.response.data.name){e.next=18;break}return p.Am.error("User already exist"),e.abrupt("return");case 18:p.Am.error("Registration failed",e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)},children:[(0,h.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:k.name,onChange:y,required:!0,autoComplete:"current-password"}),(0,h.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:k.email,onChange:y,required:!0,autoComplete:"current-password"}),(0,h.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:k.password,onChange:y,required:!0,autoComplete:"current-password"}),(0,h.jsx)("button",{type:"submit",children:"Register"})]})]})}}}]);
//# sourceMappingURL=94.972cf48e.chunk.js.map