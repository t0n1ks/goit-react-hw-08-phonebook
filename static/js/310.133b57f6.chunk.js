"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[310],{310:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var r=n(791),a=n(434),c=n(165),u=n(861),s=n(439),o=n(167),i="ContactForm_form__FeZUl",l="ContactForm_label__IGwjD",f="ContactForm_input__4qPfa",m="ContactForm_button__Ibfrr",p=n(713),_=n(184),d=function(){var e=(0,r.useState)(""),t=(0,s.Z)(e,2),n=t[0],d=t[1],v=(0,r.useState)(""),h=(0,s.Z)(v,2),x=h[0],b=h[1],k=(0,a.I0)(),j=(0,a.v9)((function(e){return e.contacts.items})),N=(0,a.v9)((function(e){return e.auth.token})),C=function(e){var t=e.target,n=t.name,r=t.value;"name"===n?d(r):"number"===n&&b(r)},w=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(t){var r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==n&&""!==x){e.next=4;break}return alert("Please fill in all fields"),e.abrupt("return");case 4:if(!j.some((function(e){return e.name===n}))){e.next=8;break}return alert("".concat(n," already in the contact list!")),e.abrupt("return");case 8:if(!j.some((function(e){return e.number===x}))){e.next=12;break}return alert("".concat(x," already in the contact list!")),e.abrupt("return");case 12:return e.prev=12,e.next=15,(0,p.rE)({name:n,number:x},N);case 15:r=e.sent,k((0,o.uK)(r)),d(""),b(""),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(12),console.error("Error adding contact:",e.t0);case 24:case"end":return e.stop()}}),e,null,[[12,21]])})));return function(t){return e.apply(this,arguments)}}();return(0,_.jsxs)("form",{className:i,onSubmit:w,children:[(0,_.jsxs)("label",{className:l,children:["Name",(0,_.jsx)("input",{type:"text",name:"name",value:n,onChange:C,className:f})]}),(0,_.jsxs)("label",{className:l,children:["Number",(0,_.jsx)("input",{type:"tel",name:"number",value:x,onChange:C,className:f})]}),(0,_.jsx)("button",{type:"submit",className:m,children:"Add contact"})]})},v="ContactList_list__3m-wQ",h="ContactList_item__3qNF1",x="ContactList_text__BFkad",b="ContactList_button__yUlS6",k=function(){var e=(0,a.v9)((function(e){return e.contacts.items})),t=(0,a.v9)((function(e){return e.contacts.filter})),n=(0,a.I0)(),s=(0,a.v9)((function(e){return e.auth.token}));(0,r.useEffect)((function(){var e=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.P4)(s);case 2:t=e.sent,n((0,o.BZ)(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[s,n]);var i=e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})),l=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.GK)(t,s);case 3:n((0,o.GK)(t)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error deleting contact:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return(0,_.jsx)("ul",{className:v,children:i.map((function(e){return(0,_.jsxs)("li",{className:h,children:[(0,_.jsxs)("p",{className:x,children:[e.name,": ",e.number]}),(0,_.jsx)("button",{type:"button",onClick:function(){return l(e.id)},className:b,children:"Delete"})]},e.id)}))})},j="UserMenu_container__jS0QQ",N="UserMenu_userNotLoggedIn__ZfMPV";var C=function(){var e=(0,a.v9)((function(e){return e.auth.user}));return(0,_.jsx)("div",{className:j,children:e?(0,_.jsxs)("div",{children:[(0,_.jsx)(d,{}),(0,_.jsx)(k,{})]}):(0,_.jsx)("p",{className:N,children:"User not logged in"})})}}}]);
//# sourceMappingURL=310.133b57f6.chunk.js.map